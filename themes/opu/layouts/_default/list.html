{{ define "main" }}
<!-- Hero Section -->
<div class="relative lg:h-[60vh] h-screen pt-16">
  <div class="absolute inset-0 bg-black opacity-60 z-10"></div>
  <div id="hero-background" class="absolute inset-0 bg-cover bg-center"
    style="background-image: url('{{ .Params.hero_image | default "/images/default-hero.jpg" }}')">
  </div>

  <div id="dots-container" class="absolute inset-0 z-20"></div>

  <div
    class="relative z-30 container mx-auto px-4 h-full flex flex-col justify-center items-start text-left text-white">
    <p class="text-sm uppercase tracking-widest mb-20 flex items-center">
      Insights <span class="ml-2 inline-block w-12 h-px bg-white"></span>
    </p>
    <h1 class="text-4xl md:text-5xl font-bold mb-6 max-w-3xl leading-tight">
      {{ .Params.Title  }}
    </h1>
  </div>
</div>

<!-- Blog Section -->
<section class="py-16 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold text-blue-900 mb-6">
        {{ .Params.section_title | default "OUR LATEST INSIGHTS" }}
      </h2>
      <p class="text-xl text-gray-700 max-w-3xl mx-auto">
        {{ .Params.section_description | default "Stay updated with the latest trends, case studies, and insights about data collection in Africa." }}
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {{ $paginator := .Paginate (where .Pages "Type" "blog") }}
      {{ range $paginator.Pages }}
      <div class="rounded-lg overflow-hidden border border-gray-200 transition-all duration-300 hover:shadow-lg">
        <div class="overflow-hidden">
          {{ with .Params.featured_image }}
          <a href="{{ $.RelPermalink }}">
            <img src="{{ . }}" alt="{{ $.Title }}"
              class="w-full h-56 object-cover blog-image transition-transform duration-500 hover:scale-105">
          </a>
          {{ end }}
        </div>
        <div class="p-6">
          <div class="flex items-center text-sm text-gray-500 mb-2">
            <span class="mr-3">
              <i class="far fa-calendar-alt mr-1"></i>
              {{ .Date.Format "January 2, 2006" }}
            </span>
            <span>
              <i class="far fa-user mr-1"></i>
              By {{ .Params.author | default "Admin" }}
            </span>
          </div>
          <a href="{{ .RelPermalink }}" class="block group">
            <h3 class="text-xl font-bold text-blue-900 mb-3 group-hover:text-blue-600 transition">
              {{ .Title }}
            </h3>
          </a>
          <p class="text-gray-700 mb-4">
            {{ .Summary | truncate 120 }}
          </p>
          <a href="{{ .RelPermalink }}" class="inline-block text-blue-600 font-medium hover:text-blue-800 transition">
            Read More <i class="fas fa-arrow-right ml-1 text-sm"></i>
          </a>
        </div>
      </div>
      {{ end }}
    </div>

    {{ if gt $paginator.TotalPages 1 }}
    <div class="mt-12 flex justify-center space-x-2">
      {{ if $paginator.HasPrev }}
      <a href="{{ $paginator.Prev.URL }}" class="px-4 py-2 bg-white border border-gray-300 rounded-md hover:bg-gray-50">
        Previous
      </a>
      {{ end }}

      {{ range $paginator.Pagers }}
      <a href="{{ .URL }}"
        class="px-4 py-2 {{ if eq . $paginator.PageNumber }}bg-blue-600 text-white{{ else }}bg-white border border-gray-300 hover:bg-gray-50{{ end }} rounded-md">
        {{ .PageNumber }}
      </a>
      {{ end }}

      {{ if $paginator.HasNext }}
      <a href="{{ $paginator.Next.URL }}" class="px-4 py-2 bg-white border border-gray-300 rounded-md hover:bg-gray-50">
        Next
      </a>
      {{ end }}
    </div>
    {{ end }}
  </div>
</section>
{{ end }}